<%= flash_message %>


<div id="main-container" class="container" style="text-align: left">
  <div class="row">

    <div class="Conteudo">
      <h1>Monitorias</h1>

      <table class="TabelaMonitorias">
        
        <thead>
          <tr>
            <th>DATA&nbsp;&nbsp;&nbsp;</th>
            <th>MONITOR&nbsp;&nbsp;&nbsp;</th>
            <th>PROFESSOR&nbsp;&nbsp;&nbsp;</th>
            <th>DISCIPLINA</th>
          </tr>
        </thead>


        <tbody>

        <% @monitoria.each do |monitorium| %>
            <tr>
            <td><%= post_date(monitorium.data)%></td>
            <td><%= monitorium.monitor.name %></td>
            <td><%= monitorium.professor.name %></td>
            <td><%= monitorium.disciplina.sigla %></td>
            <td><%= link_to 'Detalhes', monitorium %></td>
            <% if (monitorium.capacidadeatual > 0)%>
              <td><%= link_to 'Agendar', agendar_monitorium_path(monitorium),  data: { confirm: 'Certeza que gostaria de agendar essa monitoria?' } %></td>
            <%end%>
            <td><%= link_to 'Editar', edit_monitorium_path(monitorium) %></td>
            <td><%= link_to 'Excluir', monitorium, method: :delete, data: { confirm: 'Certeza que quer cancelar essa monitoria?' } %></td>
            <td><%= link_to 'Cancelar Agendamento', cancelar_monitorium_path(monitorium),  data: { confirm: 'Certeza que gostaria de cancelar o agendamento dessa aula?' } %></td>
            </tr>
        <% end %>
        </tbody>
      </table>
      <%if @User != nil %> 
        <%if policy(Monitorium).new? %>
          <div style="margin-top:30px"; class="btn btn-default btn-lg"> <%= link_to 'Nova Monitoria', new_monitorium_path, style: "color: black;" %></div>
        <%end%>  
      <%end%>
    </div>
  </div>
</div>

